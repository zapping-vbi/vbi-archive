dnl Process this file with autoconf to produce a configure script.
dnl $Id: configure.in,v 1.3 2001-08-19 10:58:34 mschimek Exp $

AC_INIT(configure.in)
AM_INIT_AUTOMAKE(rte, 0.3)
AM_CONFIG_HEADER(config.h)

dnl Stupid rpm in SuSE
CFLAGS="-g -O2 -Wall -fomit-frame-pointer"

AM_PROG_LIBTOOL

test -e site_def.h || cat <<EOF >site_def.h
/* Site specific definitions */

#ifndef SITE_DEF_H
#define SITE_DEF_H
#if 1 /* EXISTS */
#endif /* EXISTS */
#endif /* SITE_DEF_H */
EOF

AC_PROG_CC

dnl Check whether program_invocation_name exists, GNU extension
AC_CHECK_FUNCS(program_invocation_name)

AC_OUTPUT([
Makefile
ffmpeg/Makefile
ffmpeg/libav/Makefile
ffmpeg/libavcodec/Makefile
ffmpeg/libavcodec/i386/Makefile
ffmpeg/libavcodec/mpglib/Makefile
ffmpeg/libavcodec/libac3/Makefile
rte.spec
])

dnl Finish the config
cd mp1e
./configure
echo "Type 'make' to compile rte. You can run './configure' under "
echo "the 'mp1e' dir to pass any special options to the mp1e "
echo "backend."

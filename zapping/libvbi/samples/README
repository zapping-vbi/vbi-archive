Teletext and Closed Caption sample streams

These files can be (and have been) used to test the libvbi Teletext and
Closed Caption decoder. Usage instructions below.

File format:
============

    Header, data lines
    Header, data lines
    :

Header
    "%8.6f\n"		frame capture timestamp delta (1/30)
    8 bits		number of lines

Line
    8 bits		0: Teletext, 7: Caption
		        (supposed to be log2(SLICED_*), well, that changed)
    8 bits		ITU-T line number lsb
    7 bits		line number msb
    1 bit		field 2
    Teletext:
    42 * 8 bits		raw data excl. run-in and framing code
    Caption:
    8 bits		first data byte w/parity
    8 bits		second data byte w/parity


Closed Caption streams:
=======================

s1
    contributed: Dwayne Jacques Fontenot, thanks a lot!
    field 1: C1 pop-on, T2 itv
    field 2: xds

s2 - s7
    contributed: Brian Litzinger, thank you very much!
s2
    field 1: C1 roll-up
    field 2: xds
s3 xds
    EDM 
    01 05 HD 0f 5f 05 02 A&E 00 0f 3e
    01 03 01 03 'Northern Exposure: No' 00 0f 0b 05 01 'A&E Network' 00 0f 35
s4 roll-up realtime, itv, xds
    RU3 CR PAC14I0 xx RTD1 xx(itv) RU3 xx TR1 xx   
s5 pop-on
    RCL PAC14I0 SC9(TS) xx EDM EOC RCL PAC14I4 xx EDM EOC RCL PAC13 xx PAC14 xx EDM EOC ...
    05 01 20 00 0f 4b 00 00* 01 03 SABRINA 00 0f 6d 01 04 0f 4b 01 05 48 43 (HC) 0f 60
s6 pop-on
    RCL PAC14I12 xx EDM EOC RCL PAC14I12 SC9 xx EDM EOC 
    01 03 SABRINA 0f 6d 01 04 21 00 01 05 0f 60 05 01 20 00 0f 4b 
s7 pop-on

To feed libvbi/Zapzilla, add to zapping/site_def.h (created by configure):

#define FILTER_REM SLICED_CAPTION /* discard received caption data */
#define FILTER_ADD SLICED_CAPTION /* from the file */
#define SAMPLE "/usr/src/zapping/libvbi/samples/s4" /* any file above */

This works regardless of the video standard, but to suppress side effects
you may want to add: #define FILTER_REM (-1) /* discard all received data */

The CC decoder caption.c, compiled with -DTEST (see comment there),
accepts any of the caption streams from standard input.


Teletext streams (enter "bunzip2 -k *.bz2" to unpack):

t1-swr
t2-br
    contributed: yours truly
    Level 2.5 Teletext, lots of DRCS, TOP Text;
    t3-br X/26 PDC, t1-swr X/26 double size chars
    mixed w/DRCS

t4-arte (german)
    contributed: yours truly
    Level 1.5 accents, 2.5 spacing attributes,
    test pages 195ff, page countdown, running header,
    full PDC

t5-cnn (extract only)
    contributed: yours truly
    FLOF example, parallel transmission

To feed libvbi/Zapzilla, add to zapping/site_def.h:

#define FILTER_REM SLICED_TELETEXT_B /* discard received ttx data */
#define FILTER_ADD SLICED_TELETEXT_B /* add ttx data from file */
#define SAMPLE "/usr/src/zapping/libvbi/samples/t1-swr" /* any file above */

This works regardless of the video standard, but to suppress side effects
you may want to add: #define FILTER_REM (-1) /* discard all received data */
